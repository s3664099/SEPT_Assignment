(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){},41:function(e,t,a){e.exports=a(78)},46:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),o=a.n(c),s=(a(46),a(2)),l=a(3),i=a(5),u=a(4),m=a(6),d=a(82),h=a(84),p=a(83),v=a(81),f=a(8),g=a.n(f),b="http://localhost:8080",E="http://localhost:8080/jpa",j=new(function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"executeBasicAuthenticationService",value:function(e,t){return g.a.get("".concat(b,"/basicauth"),{headers:{authorization:this.createBasicAuthToken(e,t)}})}},{key:"executeJwtAuthenticationService",value:function(e,t){return g.a.post("".concat(b,"/authenticate"),{username:e,password:t})}},{key:"createBasicAuthToken",value:function(e,t){return"Basic "+window.btoa(e+":"+t)}},{key:"registerSuccessfulLogin",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createBasicAuthToken(e,t))}},{key:"registerSuccessfulLoginForJwt",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createJWTToken(t))}},{key:"createJWTToken",value:function(e){return"Bearer "+e}},{key:"logout",value:function(){sessionStorage.removeItem("authenticatedUser")}},{key:"isUserLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedUser")}},{key:"getLoggedInUserName",value:function(){var e=sessionStorage.getItem("authenticatedUser");return null===e?"":e}},{key:"setupAxiosInterceptors",value:function(e){var t=this;g.a.interceptors.request.use(function(a){return t.isUserLoggedIn()&&(a.headers.authorization=e),a})}}]),e}()),O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return j.isUserLoggedIn()?r.a.createElement(p.a,this.props):r.a.createElement(v.a,{to:"/login"})}}]),t}(n.Component),k=a(36),y=a(7),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={username:"sept",password:"",hasLoginFailed:!1,showSuccessMessage:!1},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.loginClicked=a.loginClicked.bind(Object(y.a)(Object(y.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"loginClicked",value:function(){var e=this;j.executeJwtAuthenticationService(this.state.username,this.state.password).then(function(t){j.registerSuccessfulLoginForJwt(e.state.username,t.data.token),e.props.history.push("/welcome/".concat(e.state.username))}).catch(function(){e.setState({showSuccessMessage:!1}),e.setState({hasLoginFailed:!0})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"container"},this.state.hasLoginFailed&&r.a.createElement("div",{className:"alert alert-warning"},"Invalid Credentials or something is wrong"),this.state.showSuccessMessage&&r.a.createElement("div",null,"Login Sucessful"),"User Name: ",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),"Password: ",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-success",onClick:this.loginClicked},"Login")))}}]),t}(n.Component),N=new(function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"retrieveAllTodos",value:function(e){return g.a.get("".concat(E,"/users/").concat(e))}},{key:"retrieveTodo",value:function(e,t){return g.a.get("".concat(E,"/users/").concat(e,"/todos/").concat(t))}},{key:"deleteTodo",value:function(e,t){return g.a.delete("".concat(E,"/users/").concat(e,"/todos/").concat(t))}},{key:"updateTodo",value:function(e,t,a){return g.a.put("".concat(E,"/users/").concat(e,"/todos/").concat(t),a)}},{key:"createTodo",value:function(e,t){return g.a.post("".concat(E,"/users/").concat(e,"/todos/"),t)}}]),e}()),C=a(17),S=a.n(C),T=function(e){function t(e){var a;return Object(s.a)(this,t),console.log("constructor"),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={todos:[],message:null},a.deleteTodoClicked=a.deleteTodoClicked.bind(Object(y.a)(Object(y.a)(a))),a.updateTodoClicked=a.updateTodoClicked.bind(Object(y.a)(Object(y.a)(a))),a.addTodoClicked=a.addTodoClicked.bind(Object(y.a)(Object(y.a)(a))),a.refreshTodos=a.refreshTodos.bind(Object(y.a)(Object(y.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount")}},{key:"shouldComponentUpdate",value:function(e,t){return console.log("shouldComponentUpdate"),console.log(e),console.log(t),!0}},{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.refreshTodos(),console.log(this.state)}},{key:"refreshTodos",value:function(){var e=this,t=j.getLoggedInUserName();N.retrieveAllTodos(t).then(function(t){e.setState({todos:t.data})})}},{key:"deleteTodoClicked",value:function(e){var t=this,a=j.getLoggedInUserName();N.deleteTodo(a,e).then(function(a){t.setState({message:"Delete of todo ".concat(e," Successful")}),t.refreshTodos()})}},{key:"addTodoClicked",value:function(){this.props.history.push("/todos/-1")}},{key:"updateTodoClicked",value:function(e){console.log("update "+e),this.props.history.push("/todos/".concat(e))}},{key:"render",value:function(){var e=this;return console.log("render"),r.a.createElement("div",null,r.a.createElement("h1",null,"List Todos"),this.state.message&&r.a.createElement("div",{class:"alert alert-success"},this.state.message),r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Target Date"),r.a.createElement("th",null,"IsCompleted?"),r.a.createElement("th",null,"Update"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.state.todos.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,S()(t.targetDate).format("YYYY-MM-DD")),r.a.createElement("td",null,t.done.toString()),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.updateTodoClicked(t.id)}},"Update")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.deleteTodoClicked(t.id)}},"Delete")))}))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn btn-success",onClick:this.addTodoClicked},"Add"))))}}]),t}(n.Component);var I=function(){return r.a.createElement("div",null,"An Error Occurred. I don't know what to do! Contact support at abcd-efgh-ijkl")},D=a(80),L=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=j.isUserLoggedIn();return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.rmit.edu.au/",className:"navbar-brand"},"RMIT")),r.a.createElement("ul",{className:"navbar-nav"},e&&r.a.createElement("li",null,r.a.createElement(D.a,{className:"nav-link",to:"/welcome/SEPT"},"Home")),e&&r.a.createElement("li",null,r.a.createElement(D.a,{className:"nav-link",to:"/todos"},"Todos")),e&&r.a.createElement("li",null,r.a.createElement(D.a,{className:"nav-link",to:"/wall"}," Wall"))),r.a.createElement("ul",{className:"navbar-nav navbar-collapse justify-content-end"},!e&&r.a.createElement("li",null,r.a.createElement(D.a,{className:"nav-link",to:"/login"},"Login")),e&&r.a.createElement("li",null,r.a.createElement(D.a,{className:"nav-link",to:"/logout",onClick:j.logout},"Logout")))))}}]),t}(n.Component),U=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"text-muted"},"All Rights Reserved 2019 @RMIT SEPT"))}}]),t}(n.Component),A=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"You are logged out"),r.a.createElement("div",{className:"container"},"Thank You for Using Our Application."))}}]),t}(n.Component),M=new(function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"executeHelloWorldService",value:function(){return g.a.get("http://localhost:8080/hello-world")}},{key:"executeHelloWorldBeanService",value:function(){return g.a.get("http://localhost:8080/hello-world-bean")}},{key:"executeHelloWorldPathVariableService",value:function(e){return g.a.get("http://localhost:8080/hello-world/path-variable/".concat(e))}}]),e}()),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).retrieveWelcomeMessage=a.retrieveWelcomeMessage.bind(Object(y.a)(Object(y.a)(a))),a.state={welcomeMessage:""},a.handleSuccessfulResponse=a.handleSuccessfulResponse.bind(Object(y.a)(Object(y.a)(a))),a.handleError=a.handleError.bind(Object(y.a)(Object(y.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Welcome!"),r.a.createElement("div",{className:"container"},"Welcome ",this.props.match.params.name,". You can manage your todos ",r.a.createElement(D.a,{to:"/todos"},"here"),"."),r.a.createElement("div",{className:"container"},"Click here to get a customized welcome message.",r.a.createElement("button",{onClick:this.retrieveWelcomeMessage,className:"btn btn-success"},"Get Welcome Message")),r.a.createElement("div",{className:"container"},this.state.welcomeMessage))}},{key:"retrieveWelcomeMessage",value:function(){var e=this;M.executeHelloWorldPathVariableService(this.props.match.params.name).then(function(t){return e.handleSuccessfulResponse(t)}).catch(function(t){return e.handleError(t)})}},{key:"handleSuccessfulResponse",value:function(e){console.log(e),this.setState({welcomeMessage:e.data.message})}},{key:"handleError",value:function(e){console.log(e.response);var t="";e.message&&(t+=e.message),e.response&&e.response.data&&(t+=e.response.data.message),this.setState({welcomeMessage:t})}}]),t}(n.Component),x=a(16),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={id:a.props.match.params.id,description:"",targetDate:S()(new Date).format("YYYY-MM-DD")},a.onSubmit=a.onSubmit.bind(Object(y.a)(Object(y.a)(a))),a.validate=a.validate.bind(Object(y.a)(Object(y.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(-1!==this.state.id){var t=j.getLoggedInUserName();N.retrieveTodo(t,this.state.id).then(function(t){return e.setState({description:t.data.description,targetDate:S()(t.data.targetDate).format("YYYY-MM-DD")})})}}},{key:"validate",value:function(e){var t={};return e.description?e.description.length<5&&(t.description="Enter atleast 5 Characters in Description"):t.description="Enter a Description",S()(e.targetDate).isValid()||(t.targetDate="Enter a valid Target Date"),t}},{key:"onSubmit",value:function(e){var t=this,a=j.getLoggedInUserName(),n={id:this.state.id,description:e.description,targetDate:e.targetDate};-1===this.state.id?N.createTodo(a,n).then(function(){return t.props.history.push("/todos")}):N.updateTodo(a,this.state.id,n).then(function(){return t.props.history.push("/todos")}),console.log(e)}},{key:"render",value:function(){var e=this.state,t=e.description,a=e.targetDate;return r.a.createElement("div",null,r.a.createElement("h1",null,"Todo"),r.a.createElement("div",{className:"container"},r.a.createElement(x.d,{initialValues:{description:t,targetDate:a},onSubmit:this.onSubmit,validateOnChange:!1,validateOnBlur:!1,validate:this.validate,enableReinitialize:!0},function(e){return r.a.createElement(x.c,null,r.a.createElement(x.a,{name:"description",component:"div",className:"alert alert-warning"}),r.a.createElement(x.a,{name:"targetDate",component:"div",className:"alert alert-warning"}),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement(x.b,{className:"form-control",type:"text",name:"description"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Target Date"),r.a.createElement(x.b,{className:"form-control",type:"date",name:"targetDate"})),r.a.createElement("button",{className:"btn btn-success",type:"submit"},"Save"))})))}}]),t}(n.Component),P=(a(74),function(e){var t=e.results.map(function(e){return r.a.createElement("li",{key:e.id},e.name)});return r.a.createElement("ul",null,t)}),Y=(Object({NODE_ENV:"production",PUBLIC_URL:""}).API_KEY,function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",results:[]},a.getInfo=function(){var e={name:a.state.query};g.a.get("https://jsonplaceholder.typicode.com/users",{user:e}).then(function(e){a.setState({results:e.data})})},a.handleInputChange=function(){a.setState({query:a.search.value},function(){a.state.query&&a.state.query.length>1&&a.state.query.length%2===0&&a.getInfo()})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Search for...",ref:function(t){return e.search=t},onChange:this.handleInputChange,value:this.state.query}),r.a.createElement("button",{type:"submit",onClick:this.buttonClicked},"Search"),r.a.createElement(P,{results:this.state.results}))}}]),t}(n.Component)),J=function(e){function t(e){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"wallnav"},r.a.createElement("div",{className:"wallLogo"},r.a.createElement("a",{className:"RMITWall"},"RMITWall")),r.a.createElement("div",{className:"search"},r.a.createElement(Y,null)),r.a.createElement("div",{className:"Greetings"},"Welcome, ",this.props.name,r.a.createElement("img",{className:"profilePic",src:"http://placekitten.com/300/200"}))))}}]),t}(n.Component),R=(a(34),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidenav"},r.a.createElement("a",{href:"#"},"nav1"),r.a.createElement("a",{href:"#"},"nav2"),r.a.createElement("a",{href:"#"},"nav3"),r.a.createElement("a",{href:"#"},"nav4"))}}]),t}(n.Component)),q=(a(75),new(function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"retrieveAllVisiblePosts",value:function(e){return g.a.get("".concat(E,"/jpa/users/").concat(e,"/wall"))}},{key:"createPost",value:function(e,t){return g.a.post("users/".concat(1,"/Posts"))}},{key:"createComment",value:function(e,t,a){return g.a.post("".concat(E,"/users/").concat(1,"/Posts/").concat(a),t)}},{key:"editPost",value:function(e,t){return g.a.post("".concat(E,"/users/").concat(1,"/Posts"),t)}}]),e}())),F=new(function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"executeBasicAuthenticationService",value:function(e,t){return g.a.get("".concat(b,"/basicauth"),{headers:{authorization:this.createBasicAuthToken(e,t)}})}},{key:"executeJwtAuthenticationService",value:function(e,t){return g.a.post("".concat(b,"/authenticate"),{username:e,password:t})}},{key:"createBasicAuthToken",value:function(e,t){return"Basic "+window.btoa(e+":"+t)}},{key:"registerSuccessfulLogin",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createBasicAuthToken(e,t))}},{key:"registerSuccessfulLoginForJwt",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createJWTToken(t))}},{key:"createJWTToken",value:function(e){return"Bearer "+e}},{key:"logout",value:function(){sessionStorage.removeItem("authenticatedUser")}},{key:"isUserLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedUser")}},{key:"getLoggedInUserName",value:function(){var e=sessionStorage.getItem("authenticatedUser");return null===e?"":e}},{key:"setupAxiosInterceptors",value:function(e){var t=this;g.a.interceptors.request.use(function(a){return t.isUserLoggedIn()&&(a.headers.authorization=e),a})}}]),e}()),V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!1,posts:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=F.getLoggedInUserName();q.retrieveAllVisiblePosts(t).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,posts:t})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.posts.map(function(e,t){return r.a.createElement("div",{className:"postContainer"},r.a.createElement("div",{className:"userImage"},r.a.createElement("img",{className:"profilePic",src:"http://placekitten.com/300/200"}),r.a.createElement("div",{className:"timeStamp"},e.creation_Time)),r.a.createElement("div",{className:"userName"}," "," "),r.a.createElement("div",null,r.a.createElement("button",{className:"editButton"},"Edit/Del")),r.a.createElement("div",{className:"userInput"},e.message),r.a.createElement("hr",null),r.a.createElement("div",null),r.a.createElement("div",null,"object"==typeof e.comments?r.a.createElement("div",null,e.comments.map(function(e,t){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",null))})):null))}))}}]),t}(n.Component),z=a(40),H=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"activityNavBar"},r.a.createElement(z.a,{trigger:r.a.createElement("button",{className:"newPostButton"}," Create New Post "),modal:!0,closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("p",null,"Create New Post"),r.a.createElement("form",{action:"/action_page.php"},r.a.createElement("textarea",{name:"message",rows:"10",cols:"100",placeholder:"Write your status..."}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit"})))),r.a.createElement("a",{href:"#"},"nav2"),r.a.createElement("a",{href:"#"},"nav3"),r.a.createElement("a",{href:"#"},"nav4"))}}]),t}(n.Component),_=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=j.getLoggedInUserName();return r.a.createElement("div",{className:"Wall"},r.a.createElement(J,{name:e}),r.a.createElement(R,null),r.a.createElement(H,null),r.a.createElement(V,null))}}]),t}(n.Component),G=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"TodoApp"},r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),r.a.createElement(h.a,null,r.a.createElement(p.a,{path:"/",exact:!0,component:w}),r.a.createElement(p.a,{path:"/login",component:w}),r.a.createElement(O,{path:"/welcome/:name",component:W}),r.a.createElement(O,{path:"/todos/:id",component:B}),r.a.createElement(O,{path:"/todos",component:T}),r.a.createElement(O,{path:"/logout",component:A}),r.a.createElement(O,{path:"/wall",component:_}),r.a.createElement(p.a,{component:I})),r.a.createElement(U,null))))}}]),t}(n.Component),K=(a(76),a(77),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(G,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.eb39b5f0.chunk.js.map